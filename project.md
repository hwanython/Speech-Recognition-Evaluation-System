# Speech Recognition Evaluation and Dataset Management System 프로젝트 요구 정의서

## 1. 개요

### 1.1. 목적

- 본 프로젝트는 평가 비교 그래프 제작 및 데이터셋 확인 기능을 제공하는 웹 애플리케이션 개발을 목표로 합니다.
- 사용자가 평가 결과와 데이터셋 정보를 직관적으로 확인할 수 있도록 동적 그래프와 테이블 뷰를 제공하며, 학습 및 평가 데이터셋의 관리와 검토를 용이하게 합니다.

### 1.2. 범위

- **평가 비교 그래프 제작 페이지**: JSON 파일 (evaluation.json) 기반 평가 결과를 시각화하고, 모델별 정답 전사/예측 전사/cer 정보를 문장 단위로 테이블에 표시.
- **데이터셋 확인 페이지**: raw 데이터와 processed 데이터셋의 파일 목록, 파일 개수, 상세 정보를 확인할 수 있는 페이지 제공.
- **메인 페이지**: 사이트 전반에 대한 소개 및 주요 기능에 대한 간략한 설명(마크다운 형식).

## 2. 시스템 구성 및 기능 요구사항

### 2.1. 메인 페이지

- **설명**:
    - 사이트에 대한 개요 및 주요 기능(평가 비교, 데이터셋 확인 등)을 마크다운 형식으로 기술.
    - 깔끔한 디자인으로 사용자에게 서비스의 목적과 활용 방법을 안내.

### 2.2. 평가 비교 그래프 제작 페이지

- **입력 기능**
    - 사용자는 evaluation.json 파일을 페이지에 **드래그 앤 드랍** 방식으로 업로드.
- **그래프 생성**
    - 업로드된 JSON 데이터를 파싱하여 자동으로 평가 비교 그래프를 생성.
    - 각 모델별 평가 지표(정답 전사, 예측 전사, CER)를 시각적으로 비교할 수 있도록 그래프를 동적(dynamically)으로 표시.
    - JSON 내에 포함된 audio 파일명의 segment 정보(분할 전 long-audio에 속함)를 확인하여, 동일 long-audio 기준 성능 그래프도 추가 제공.
- **테이블 기능**
    - 모델별로 문장 단위 정답 전사, 예측 전사, 그리고 CER 정보를 확인할 수 있는 테이블 제공.
    - 테이블은 사용자가 쉽게 각 모델의 상세 평가 결과를 비교 및 분석할 수 있도록 구성.

### 2.3. 데이터셋 확인 페이지

- **데이터셋 분류**
    - **Raw 데이터**
        - 분할되지 않은 long-audio 파일로 구성된 mp3-srt 페어.
        - 폴더별로 정리되어 있으며, 예시 폴더 구조:
            
            ```
            raw
            ├── eval_v1
            │   ├── audio
            │   └── script
            └── v1
                ├── audio
                └── script
            
            ```
            
        - **사용자 시나리오 1**:
            - 현재 쌓여있는 raw 데이터의 폴더(예: eval_v1, v1 등)를 확인.
            - 각 폴더 내 파일 개수 및 파일 리스트(파일명 등)를 표시.
    - **Processed 데이터**
        - 학습에 적용되는 청킹(chucking)된 audio segment 파일 및 전사 정답 데이터.
        - 메인 파일: `dataset_v1/dataset.json` (audio_filepath와 전사(sentence) 포함)
        - 버전별 폴더 구성 예시:
            
            ```
            processed
            ├── dataset_v1
            │   ├── audio
            │   ├── cache_features
            │   ├── logs
            │   ├── dataset.json
            │   └── script
            ├── dataset_v1.1
            │   ├── audio
            │   ├── cache_features
            │   ├── logs
            │   └── script
            ├── eval_v1
            │   ├── audio
            │   ├── cache_features
            │   ├── logs
            │   └── script
            └── eval_v1.1
                ├── audio
                ├── cache_features
                ├── logs
                └── script
            
            ```
            
        - **사용자 시나리오 2**:
            - 학습 데이터셋과 평가 데이터셋(파일명에 dataset_~~, eval_~~ 등)을 선택하여 비교 검토.
            - 선택된 데이터셋에 대해, 테이블 형식으로 파일 경로, 플레이 가능한 audio, 전사 문장(sentence) 등의 정보를 제공.

## 3. 기술 및 디자인 요구사항

### 3.1. 개발 언어 및 프레임워크

- **백엔드**: Python (FastAPI 프레임워크)
- **프론트엔드**: HTML, CSS, JavaScript (동적 그래프 및 테이블 구현)
- **라이브러리**: 가능한 가볍고 최소한의 라이브러리 사용 (예, 그래프의 경우 Chart.js 또는 유사 경량 라이브러리)

### 3.2. 디자인 및 UI/UX

- **디자인 모방 대상**: Huggingface의 데이터셋 컬렉션 페이지
    - 심플하고 깔끔한 디자인
    - 사용자 친화적인 인터페이스 제공
    - 각 페이지(메인, 평가 그래프, 데이터셋 확인)의 일관된 스타일 및 레이아웃 유지

### 3.3. 그래프 및 테이블 기능

- 그래프는 동적 업데이트가 가능해야 하며, 사용자가 업로드한 JSON 데이터에 따라 실시간으로 변경되어야 함.
- 테이블은 각 항목별 상세 정보를 명확하게 확인할 수 있도록 구성하고, audio 파일은 재생 기능을 포함.

## 4. 시스템 아키텍처 개요

- **클라이언트**: HTML/CSS/JavaScript를 이용한 프론트엔드
    - 파일 업로드(드래그 앤 드랍), 동적 그래프/테이블 렌더링, audio 재생 기능 포함
- **서버**: FastAPI 기반 백엔드
    - 파일 처리, JSON 데이터 파싱, 필요한 API 제공
- **데이터 처리**
    - 평가 JSON 및 데이터셋 JSON 파일 파싱 후, 필요한 정보(그래프 데이터, 테이블 데이터)로 가공

## 5. 비기능 요구사항

### 5.1. 성능 및 응답속도

- 대용량 JSON 파일 처리 시에도 원활한 그래프 렌더링과 테이블 표시 보장
- 빠른 API 응답 및 사용자 인터랙션에 대한 실시간 반영

### 5.2. 확장성

- 추가적인 평가 지표나 데이터셋 유형이 필요할 경우, 페이지 확장 및 기능 추가가 용이하도록 모듈화된 코드 구조 적용

### 5.3. 유지보수성

- 가독성이 높은 코드 작성, 주석 및 문서화를 통한 지속적 관리
- 최소한의 외부 라이브러리 사용으로 의존성 관리 용이

## 6. 개발 일정 및 마일스톤

- **요구 사항 분석 및 설계**: 기능별 상세 요구사항 문서화 및 UI/UX 프로토타입 작성
- **프론트엔드 개발**: HTML/CSS/JavaScript를 통한 UI 구성, 그래프 및 테이블 기능 구현
- **백엔드 개발**: FastAPI 기반 API 개발, 파일 업로드 및 데이터 파싱 기능 구현
- **통합 테스트**: 전체 시스템 연동 테스트 및 사용자 시나리오 검증
- **배포 및 피드백 반영**: 초기 배포 후 사용자 피드백 수렴 및 개선

## 7. 결론

본 프로젝트는 평가 결과 시각화와 데이터셋 관리를 위한 통합 웹 애플리케이션으로, 사용자가 쉽게 평가 및 데이터셋 정보를 확인할 수 있도록 하는 것이 핵심 목표입니다. Python, FastAPI, HTML/CSS 및 가벼운 자바스크립트 라이브러리를 활용하여, 심플하면서도 동적이고 직관적인 UI를 구현할 예정입니다.