{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h1>{{ translations.dataset_title }}</h1>
    
    <div class="card mt-4">
        <div class="card-header">
            <h3>{{ translations.dataset_list }}</h3>
        </div>
        <div class="card-body">
            <p>{{ translations.no_datasets }}</p>
        </div>
    </div>
</div>

<h1>데이터셋 확인</h1>

<div class="dataset-sections">
    <!-- Raw 데이터셋 섹션 -->
    <section class="raw-datasets">
        <h2>Raw 데이터</h2>
        <div class="dataset-grid">
            {% for dataset in raw_datasets %}
            <div class="dataset-card" data-type="raw" data-name="{{ dataset.name }}">
                <h3>{{ dataset.name }}</h3>
                <div class="dataset-info">
                    <p>총 파일 수: {{ dataset.file_count }}</p>
                    {% if dataset.audio_count %}
                    <p>오디오 파일 수: {{ dataset.audio_count }}</p>
                    {% endif %}
                    {% if dataset.script_count %}
                    <p>스크립트 파일 수: {{ dataset.script_count }}</p>
                    {% endif %}
                </div>
                <button class="view-details-btn">상세 보기</button>
            </div>
            {% endfor %}
        </div>
    </section>

    <!-- Processed 데이터셋 섹션 -->
    <section class="processed-datasets">
        <h2>Processed 데이터</h2>
        <div class="dataset-grid">
            {% for dataset in processed_datasets %}
            <div class="dataset-card" data-type="processed" data-name="{{ dataset.name }}">
                <h3>{{ dataset.name }}</h3>
                <div class="dataset-info">
                    <p>총 파일 수: {{ dataset.file_count }}</p>
                    {% if dataset.audio_count %}
                    <p>오디오 파일 수: {{ dataset.audio_count }}</p>
                    {% endif %}
                    {% if dataset.script_count %}
                    <p>스크립트 파일 수: {{ dataset.script_count }}</p>
                    {% endif %}
                    {% if dataset.has_dataset_json %}
                    <p class="has-json">dataset.json 포함</p>
                    {% endif %}
                </div>
                <button class="view-details-btn">상세 보기</button>
            </div>
            {% endfor %}
        </div>
    </section>
</div>

<!-- 데이터셋 상세 정보 모달 -->
<div id="dataset-modal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close">&times;</span>
        <div id="dataset-details"></div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', path='/js/dataset.js') }}"></script>
{% endblock %} 